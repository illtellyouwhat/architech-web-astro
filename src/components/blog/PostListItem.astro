---
import { Icon } from 'astro-icon/components';
import type { CollectionEntry } from 'astro:content';

interface Props {
  post: CollectionEntry<'posts'>;
}

const { post } = Astro.props;
const permalink = `/blog/${post.slug}/`;
const formattedDate = post.data.date.toLocaleDateString(undefined, {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---
<li class="rounded-2xl border border-gray-100 bg-white p-6 shadow-sm transition hover:border-gray-200 hover:-translate-y-0.5">
  <a href={permalink} class="block space-y-3">
    <p class="text-sm uppercase tracking-wide text-gray-500">{formattedDate}</p>
    <h3 class="text-2xl font-semibold text-gray-900">{post.data.title}</h3>
    {post.data.excerpt && <p class="text-gray-600">{post.data.excerpt}</p>}
    {post.data.tags?.length > 0 && (
      <ul class="flex flex-wrap gap-2 text-sm text-gray-500">
        {post.data.tags.map((tag) => (
          <li class="rounded-full bg-gray-100 px-3 py-1">#{tag}</li>
        ))}
      </ul>
    )}
    <span class="inline-flex items-center gap-2 text-sm font-medium text-gray-700">
      Read the story
      <Icon name="lucide:arrow-right" class="h-4 w-4" />
    </span>
  </a>
</li>
